**Описание**

В ходе тестирования функционала реферальной программы в VK Mini App выявлена критическая ошибка: система начисляет бонусные монеты за задание «Пригласить друга», даже если пользователь не выполнил требуемое действие (не отправил приглашение). Баг напрямую влияет на логику работы призовой механики и может привести к злоупотреблению системой вознаграждений.

**Тип тестирования**

- Исследовательское тестирование (Exploratory);
- Функциональное тестирование (Functional testing).

**Объект тестирования**

- **VK Mini App:** Карта Дня;
- **Раздел:** реферальная программа / система бонусных монет;
- **Функция:** начисление монет за приглашение друга.

**Краткое описание дефекта**

Система некорректно обрабатывает выполнение задания «Пригласить друга»:

- монеты начисляются, даже если пользователь не отправил приглашение;
- отсутствует проверка факта отправки приглашения перед начислением вознаграждения;
- нарушается логика работы реферальной программы.

**Окружение**
- **Устройства:**
    - **Android:** Samsung Galaxy S22 (Android 12), Xiaomi 12 (Android 11);
    - **iOS:** iPhone 13 Pro Max (iOS 16.4), iPhone SE (iOS 15.7);
- **Сеть:** стабильное интернет-соединение.

**Сценарий воспроизведения**

1.  Запустить VK Карта Дня.
2.  Перейти в раздел реферальной программы / бонусных монет.
3.  Выбрать задание «Пригласить друга» (+X монет).
4.  Закрыть окно для приглашения, **не отправляя** приглашение другу.
5.  Проверить баланс бонусных монет.

**Ожидаемый результат**

- монеты **не начисляются**, если приглашение не было отправлено;
- система проверяет факт отправки приглашения перед начислением вознаграждения;
- баланс монет остаётся без изменений, пока условие задания не выполнено.

**Фактический результат**

- монеты начисляются, даже если пользователь **не отправил** приглашение;
- отсутствует проверка выполнения условия задания;
- баланс монет увеличивается без фактического выполнения действия.

**Серьёзность**

- **Severity:** High (критическая) — напрямую влияет на бизнес-логику приложения, может привести к финансовым потерям и злоупотреблению системой;
- **Priority:** P1 (высокий) — требует немедленного исправления, так как является критическим для функционала реферальной программы.

**Примечания**

- баг воспроизводится стабильно на всех протестированных устройствах и версиях ОС;
- проблема может быть связана с ошибкой в логике проверки выполнения задания;
- отсутствие проверки выполнения условия приводит к нарушению принципов честной игровой механики;
- рекомендуется провести ревью кода модуля реферальной программы для выявления других потенциальных уязвимостей.



**Статус**

**New** — баг выявлен, ожидает проверки и исправления.


### Примечания
Дефект влияет на пользовательский опыт и ограничивает доступ к функционалу выбора скинов.
